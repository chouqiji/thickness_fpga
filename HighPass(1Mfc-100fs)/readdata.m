%读取数据
clear;

%读取滤波器参数
%filter1 = load('filter1.mat');  %20kHz lowpass
%filter2 = load('filter2.mat');  %500kHz bandpass
%filter4 = load('filter4.mat');  %50kHz lowpass

%filter1 = [0.004656201574947,0.005220870694,0.00686814162926,0.00953962565716,0.013133186902444,0.017507053417199,0.022485650317175,0.027866910258327,0.033430750955371,0.038948357272684,0.044191869019429,0.048944056621392,0.053007566212812,0.056213333467161,0.058427800918928,0.059558625081711,0.059558625081711,0.058427800918928,0.056213333467161,0.053007566212812,0.048944056621392,0.044191869019429,0.038948357272684,0.033430750955371,0.027866910258327,0.022485650317175,0.017507053417199,0.013133186902444,0.00953962565716,0.00686814162926,0.005220870694,0.004656201574947];
%filter2 = [-0.049144581879724,-0.050580908318208,-0.032106426063015,0,0.033658714751306,0.055594250223181,0.056639722819165,0.035594528254029,-0,-0.036593095867538,-0.059864592258433,-0.060415181411371,-0.037612552279336,-0,0.037957071979964,0.061527781327342,0.061527781327342,0.037957071979964,-0,-0.037612552279336,-0.060415181411371,-0.059864592258433,-0.036593095867538,-0,0.035594528254029,0.056639722819165,0.055594250223181,0.033658714751306,0,-0.032106426063015,-0.050580908318208,-0.049144581879724];
%filter4 = [0.059907959520792,0.060933419217611,0.061820463345646,0.062565398882143,0.063165118733966,0.063617117755781,0.063919505677566,0.064071016866494,0.064071016866494,0.063919505677566,0.063617117755781,0.063165118733966,0.062565398882143,0.061820463345646,0.060933419217611,0.059907959520792];
%20KHz lowpass
%filter5 = [0.062442425703357,0.062465449747979,0.062485188695893,0.062501640677089,0.062514804132905,0.062524677816201,0.062531260791496,0.06253455243508,0.06253455243508,0.062531260791496,0.062524677816201,0.062514804132905,0.062501640677089,0.062485188695893,0.062465449747979,0.062442425703357];
%filter5 = [0.468830938171588,0.004416581386856,0.004433223831205,0.004447124471367,0.004458265920232,0.004466634235312,0.004472218940574,0.004475013042865,0.004475013042865,0.004472218940574,0.004466634235312,0.004458265920232,0.004447124471367,0.004433223831205,0.004416581386856,0.468830938171588];
%filter3 = [0.004600307018562,0.005167598698187,0.006809587358375,0.009473141219952,0.013060500082303,0.017433157013155,0.022417564385992,0.027812422118866,0.033397232987506,0.038941750893648,0.044215905760096,0.048999765320926,0.053093090633964,0.056324058893184,0.058556763351681,0.059697154263602,0.059697154263602,0.058556763351681,0.056324058893184,0.053093090633964,0.048999765320926,0.044215905760096,0.038941750893648,0.033397232987506,0.027812422118866,0.022417564385992,0.017433157013155,0.013060500082303,0.009473141219952,0.006809587358375,0.005167598698187,0.004600307018562];
%50KHz lowpass
%filter3 = [0.03045340801909,0.03060634792845,0.030749503441513,0.030882790105405,0.031006129248551,0.031119448036032,0.031222679520857,0.031315762691086,0.031398642512801,0.031471269968863,0.031533602093446,0.031585602002304,0.031627238918766,0.031658488195424,0.031679331331504,0.031689755985907,0.031689755985907,0.031679331331504,0.031658488195424,0.031627238918766,0.031585602002304,0.031533602093446,0.031471269968863,0.031398642512801,0.031315762691086,0.031222679520857,0.031119448036032,0.031006129248551,0.030882790105405,0.030749503441513,0.03060634792845,0.03045340801909];
%filter5 = [0.062140108387722,0.062283843200137,0.06240720283188,0.062510114286452,0.06259251665467,0.06265436115759,0.062695611180887,0.062716242300662,0.062716242300662,0.062695611180887,0.06265436115759,0.06259251665467,0.062510114286452,0.06240720283188,0.062283843200137,0.062140108387722];
%fir2 = [0.00116515907472765,0.00117335677307646,0.00119792961516365,0.00123881747126744,0.00129592028594726,0.00136909832289074,0.00145817250686685,0.00156292486194867,0.00168309904493303,0.00181840097265199,0.00196849954164082,0.00213302743840140,0.00231158203827819,0.00250372639074712,0.00270899028870609,0.00292687141915052,0.00315683659241790,0.00339832304699329,0.00365073982668253,0.00391346922678316,0.00418586830571385,0.00446727045840322,0.00475698704758765,0.00505430908902597,0.00535850898650714,0.00566884231240483,0.00598454962942174,0.00630485834906554,0.00662898462230818,0.00695613525780208,0.00728550966295878,0.00761630180313989,0.00794770217416601,0.00827889978331630,0.00860908413397099,0.00893744720904000,0.00926318544832392,0.00958550171496824,0.00990360724619870,0.0102167235835639,0.0105240844779615,0.0108249377647861,0.0111185472046101,0.0114041942848924,0.0116811799783069,0.0119488264533872,0.0122064787333009,0.0124535062986950,0.0126893046306895,0.0129132966902429,0.0131249343302704,0.0133236996370574,0.0135091061976871,0.0136807002903804,0.0138380619948340,0.0139808062198406,0.0141085836456763,0.0142210815789483,0.0143180247178120,0.0143991758256838,0.0144643363118014,0.0145133467172114,0.0145460871049938,0.0145624773537688,0.0145624773537688,0.0145460871049938,0.0145133467172114,0.0144643363118014,0.0143991758256838,0.0143180247178120,0.0142210815789483,0.0141085836456763,0.0139808062198406,0.0138380619948340,0.0136807002903804,0.0135091061976871,0.0133236996370574,0.0131249343302704,0.0129132966902429,0.0126893046306895,0.0124535062986950,0.0122064787333009,0.0119488264533872,0.0116811799783069,0.0114041942848924,0.0111185472046101,0.0108249377647861,0.0105240844779615,0.0102167235835639,0.00990360724619870,0.00958550171496824,0.00926318544832392,0.00893744720904000,0.00860908413397099,0.00827889978331630,0.00794770217416601,0.00761630180313989,0.00728550966295878,0.00695613525780208,0.00662898462230818,0.00630485834906554,0.00598454962942174,0.00566884231240483,0.00535850898650714,0.00505430908902597,0.00475698704758765,0.00446727045840322,0.00418586830571385,0.00391346922678316,0.00365073982668253,0.00339832304699329,0.00315683659241790,0.00292687141915052,0.00270899028870609,0.00250372639074712,0.00231158203827819,0.00213302743840140,0.00196849954164082,0.00181840097265199,0.00168309904493303,0.00156292486194867,0.00145817250686685,0.00136909832289074,0.00129592028594726,0.00123881747126744,0.00119792961516365,0.00117335677307646,0.00116515907472765];

%///////////////////////////////////////////////   500k   ///////////////////////
%fgain = [0.000172386036347762;0.000339072848183235;0.999999999999837];
%fa = [1,2,1,1,-1.97526963485187,0.976244792359440;1,2,1,1,-1.94263823054011,0.943597278470367];
%fir32 = [0.00144775829558425,-0.00162629012658570,-0.00621934092854646,-0.0134758391202026,-0.0234108668095677,-0.0346395923605439,-0.0445435838994074,-0.0498535971649746,-0.0475086065276498,-0.0355663291204077,-0.0139151461201726,0.0154206700637171,0.0484910486090960,0.0801227321136914,0.104962641475201,0.118617935191844,0.118617935191844,0.104962641475201,0.0801227321136914,0.0484910486090960,0.0154206700637171,-0.0139151461201726,-0.0355663291204077,-0.0475086065276498,-0.0498535971649746,-0.0445435838994074,-0.0346395923605439,-0.0234108668095677,-0.0134758391202026,-0.00621934092854646,-0.00162629012658570,0.00144775829558425];
%fgain3 = [0.0116057678337630;0.0487499608093106;1.66971372240373];
%fa3 = [1,0,-1.00000000000000,1,-1.87701816404720,0.959470717081789;1,0,-1,1,-1.84458768127006,0.953625596395803];
%/////////////////////////////////////////////   1M    /////////////////////////
% fgain = [0.000172386036347762;0.000339072848183235;0.999999999999837];%[0.000172386036347762;0.000339072848183235;0.999999999999837];
% fa = [1,2,1,1,-1.97526963485187,0.976244792359440;1,2,1,1,-1.94263823054011,0.943597278470367];%[1,2,1,1,-1.97526963485187,0.976244792359440;1,2,1,1,-1.94263823054011,0.943597278470367];
% fir32 = [0.0100698342380311,-0.0101267265472903,-0.0295435770455175,-0.0462396710002539,-0.0585273097402482,-0.0651449539802050,-0.0653882682142428,-0.0591856341610203,-0.0471099796346853,-0.0303252655709135,-0.0104726855736681,0.0104921387244200,0.0304945883628196,0.0475493008448426,0.0599600526120695,0.0664908697570135,0.0664908697570135,0.0599600526120695,0.0475493008448426,0.0304945883628196,0.0104921387244200,-0.0104726855736681,-0.0303252655709135,-0.0471099796346853,-0.0591856341610203,-0.0653882682142428,-0.0651449539802050,-0.0585273097402482,-0.0462396710002539,-0.0295435770455175,-0.0101267265472903,0.0100698342380311];
m = 5000;
n = 0;
%y1 = load('F:/毕业设计/中期/成果/jieshou2/jieshou2.txt');
y1 = load('35-1.txt');
sample = 10e-9;%//2M
for i = 1:(m-n)
y(i) = (y1(10*i))*4;%//5M 2Ms
end
    
t= 1:(m-n);
t = sample*t;
datain2 = [t' y'];
disp('completed');
plot(t,y);